---
description: |
  ğŸ§  RÃ¨gles CursorAI pour NeuroChat-IA-v2
  Application de chat IA avancÃ©e avec chiffrement, RAG, multi-providers et interface rÃ©active.
  Objectif : produire un code sÃ©curisÃ©, modulaire, performant et accessible.
globs:
  - "src/**/*.ts"
  - "src/**/*.tsx"
  - "src/**/*.css"
  - "src/**/*.json"
alwaysApply: true
---

# ğŸ§  NeuroChat-IA-v2 - RÃ¨gles CursorAI
# Configuration personnalisÃ©e pour un assistant IA intelligent et sÃ©curisÃ©

## ğŸ¯ CONTEXTE DU PROJET
NeuroChat-IA-v2 est une application de chat IA avancÃ©e avec :
- Support multi-providers (OpenAI, Gemini, Mistral)
- Chiffrement AES-256 et modes de sÃ©curitÃ©
- RAG (Retrieval-Augmented Generation) 
- SynthÃ¨se vocale et reconnaissance vocale
- Interface responsive et accessible
- Gestion des espaces de travail

## ğŸ—ï¸ ARCHITECTURE ET ORGANISATION

### Structure des dossiers
```
src/
â”œâ”€â”€ components/          # Composants React rÃ©utilisables
â”‚   â”œâ”€â”€ ui/             # Composants UI de base (shadcn/ui)
â”‚   â””â”€â”€ [feature]/      # Composants spÃ©cifiques aux fonctionnalitÃ©s
â”œâ”€â”€ hooks/              # Hooks React personnalisÃ©s
â”œâ”€â”€ services/           # Services mÃ©tier et API
â”œâ”€â”€ lib/                # Utilitaires et helpers
â”œâ”€â”€ store/              # Ã‰tat global (Zustand/Context)
â”œâ”€â”€ types/              # Types TypeScript
â””â”€â”€ styles/             # Styles globaux et CSS modules
```

### Conventions de nommage
- **Composants** : PascalCase (`ChatContainer.tsx`, `Header.tsx`)
- **Hooks** : camelCase avec prÃ©fixe `use` (`useTheme.ts`, `useWorkspace.ts`)
- **Services** : camelCase (`openaiApi.ts`, `encryption.ts`)
- **Types/Interfaces** : PascalCase (`Message`, `RagContext`)
- **Constantes** : UPPER_SNAKE_CASE (`DEFAULT_TIMEOUT`, `MAX_RETRIES`)

## ğŸ”§ CONVENTIONS TECHNIQUES

### TypeScript
- **Strict mode** activÃ©
- Types explicites partout (Ã©viter `any`)
- `interface` pour objets complexes
- Generics quand nÃ©cessaire
- Union types pour valeurs multiples possibles

### React
- Composants fonctionnels uniquement
- Props toujours typÃ©es via interface
- `useState` pour Ã©tat simple, `useReducer` pour logique complexe
- `useEffect` avec dÃ©pendances complÃ¨tes
- `useMemo` / `useCallback` pour optimiser les re-renders

### Tailwind CSS
- Utiliser les classes utilitaires natives
- Mobile-first + `dark:` systÃ©matiquement
- Ã‰viter `style={{...}}` inline â†’ classes Tailwind
- CrÃ©er des classes rÃ©utilisables si rÃ©pÃ©tition

## ğŸ¨ STYLE ET QUALITÃ‰ DU CODE

### Formatage
- Indentation 2 espaces
- Max 100 caractÃ¨res par ligne
- Toujours `;` en fin de ligne
- ChaÃ®nes en `'simple quotes'`
- Trailing commas sur arrays/objets multilignes

### Commentaires
- **JSDoc** pour fonctions et composants publics
- Commentaires pour logique complexe
- `TODO` / `FIXME` clairs pour Ã©volutions

### Gestion des erreurs
- `try/catch` systÃ©matique en async
- `ErrorBoundary` pour React
- Logging structurÃ© (`console.error` â†’ futur logger)
- Fallback UI pour erreurs critiques

## ğŸš€ RÃˆGLES SPÃ‰CIFIQUES AU PROJET

### SÃ©curitÃ©
- AES-256 obligatoire pour donnÃ©es sensibles
- Jamais exposer de clÃ©s en clair
- Validation stricte des inputs utilisateurs
- Ã‰chapper et nettoyer avant affichage (XSS)

### Performance
- Lazy loading des composants lourds
- Virtualisation des listes (Virtuoso)
- Code splitting dynamique
- MÃ©moÃ¯sation sÃ©lective

### AccessibilitÃ©
- Labels ARIA systÃ©matiques
- Navigation clavier supportÃ©e
- Contraste conforme WCAG
- Tests avec screen readers

## ğŸ¤– RÃˆGLES CURSORAI

### GÃ©nÃ©ration de code
- Composants modulaires, testables et accessibles
- Props typÃ©es
- Logique rÃ©utilisable via hooks
- Respect strict des conventions ci-dessus

### Refactoring
- DÃ©coupage des gros composants
- Extraction de hooks/services
- AmÃ©lioration performance (mÃ©moÃ¯sation, suspense)
- Code testable par dÃ©faut

### Documentation
- README maintenu
- JSDoc pour API et services
- Changelog Ã  jour
- Exemples dâ€™utilisation pour chaque module clÃ©

## ğŸ“ CONVENTIONS GIT

### Messages de commit
```
type(scope): description courte

Description dÃ©taillÃ©e si nÃ©cessaire

- Changement 1
- Changement 2

Fixes #123
```

Types : `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`  
Scopes : `ui`, `api`, `security`, `performance`, `mobile`  

### Branches
- `main` â†’ prod
- `develop` â†’ branche de dev principale
- `feature/*` â†’ nouvelles fonctionnalitÃ©s
- `fix/*` â†’ corrections
- `hotfix/*` â†’ urgences

## ğŸ” VÃ‰RIFICATIONS QUALITÃ‰

### Avant commit
- [ ] Code compile sans erreurs
- [ ] ESLint + Prettier OK
- [ ] Tests passent
- [ ] Types TS valides
- [ ] UI responsive
- [ ] AccessibilitÃ© vÃ©rifiÃ©e

### Code review
- [ ] Logique claire
- [ ] Performances correctes
- [ ] SÃ©curitÃ© respectÃ©e
- [ ] Tests prÃ©sents
- [ ] Documentation mise Ã  jour

## ğŸ¯ PROMPTS RECOMMANDÃ‰S

### CrÃ©ation de composants
```
CrÃ©e un composant React TS pour [fonctionnalitÃ©] avec :
- Interface accessible
- Dark mode support
- Mobile-first responsive
- Gestion dâ€™erreurs intÃ©grÃ©e
- Tests unitaires basiques
```

### Refactoring
```
Refactorise ce composant :
- DÃ©coupe en sous-composants
- DÃ©place logique dans hooks
- AmÃ©liore performance
- Ajoute gestion dâ€™erreurs
- Rends testable
```

### Optimisation
```
Optimise ce code pour :
- Limiter les re-renders
- RÃ©duire le bundle
- AmÃ©liorer accessibilitÃ©
- Respecter conventions du projet
```

## ğŸ“š RESSOURCES UTILES
- React : https://react.dev/  
- TypeScript : https://www.typescriptlang.org/docs/  
- Tailwind : https://tailwindcss.com/docs  
- shadcn/ui : https://ui.shadcn.com/  
- ESLint : https://eslint.org/docs/rules/  
- WCAG : https://www.w3.org/WAI/WCAG21/quickref/  

---
â„¹ï¸ Ce fichier `.cursorrules` doit Ãªtre maintenu et Ã©voluera avec le projet.
